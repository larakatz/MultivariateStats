---
title: 'Lab1: RMarkdown'
author: "Lara Katz"
date: "2024-01-19"
output:
  word_document: default
  pdf_document: default
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(tidy = FALSE)
```

```{r, warning=FALSE}
library(terra)
library(ggplot2)
library(corrplot)
```

# Read in multivariate data set:

```{r}
bds <- read.csv("./Data/Katz_BDS_data.csv")
bds <- bds[,-c(1,3)] # remove unnecessary columns
```

# Use the `head()` function to show the first few rows of the dataset

```{r}
head(bds)
```

# Bulleted list describing the columns of the dataset

Columns of dataset:

*  **pab** = Presence/absence/pseudoabsence data (binary)

* **catch**: Catchment position (stream size or size of largest input stream into lake/pond) (categoriccal data)

* **clay**: Mean clay composition of soil within point's HUC12 subwatershed (continuous data) 

* **coast**: Distance from the coastline in km (continous data)

* **elev**: Mean elevation (m) within point's HUC12 subwatershed (continuous data)

* **lith**: Lithology at point (categorical data)

* **marine**: Whether or not point is within the historic marine limit (binary data)

* **ph**: Mean pH of soil within point's HUC12 subwatershed (continuous data) 

* Columns **X01_water** through **X29_AcAp_AlpineTundra**: Percent cover of the LANDFIRE landcover type within the point's HUC12 subwatershed (continuous data)

  + **X01_water**
    
  + **X02_Barren**   
  
  + **X03_LAc_NHardwd**
  
  + **X05_NAtl_CoastPlain_Hardwd**
  
  + **X07_LAc_NPine.Oak**
  
  + **X08_LAc_Pine.Hemlock.Hardwd**
  
  + **X09_CAp_Dry_Oak.Pine**
  
  + **X10_Ap_Hemlock.N_Hardwood**
  
  + **X11_Ac_Low.Elev_Spruce.Fir.Hardwood**
  
  + **X12_AcAp_Montane_Spruce.Fir**
  
  + **X13_CentAp_Pine.Oak_Rocky_Wd**
  
  + **X14_NAtl_Coast_Plain_Maritime**
  
  + **X15_NAtl_Coast_Plain_Dune**
  
  + **X16_CentIntAp_FloodplainSys**
  
  + **X17_CentIntAp_RiparianSys**
  
  + **X18_LAc_FloodplainSys**
  
  + **X19_Bor_Acidic_PeatSys**
  
  + **X20_CentIntAp_SwampSys**
  
  + **X21_GulfAtl_CoastPlain_SwampSys**

  + **X22_GulfAtl_CoastPlain_TMarshSys**
  
  + **X23_LAc_Shrub.Herb_WetlSys**
  
  + **X24_NCentInt_Wet_Flatwd**
  
  + **X25_LAc_SwampSys**
  
  + **X26_NeInt_PineBarrens**
  
  + **X27_AcAp_WdHeath.Krummholz**
  
  + **X28_Bor_JackPine.BlackSpruce**
  
  + **X29_AcAp_AlpineTundra**

* **sand**: Mean sand composition of soil within point's HUC12 subwatershed (continuous data)

* **silt**: Mean silt composition of soil within point's HUC12 subwatershed (continuous data)

* **slope**: Mean slope (degrees) within point's HUC12 subwatershed (continuous data)

# Plot data

Read in shapefile of model extent:
```{r, results='hide'}
# Check variables for multicollinearity
data.num <- as.data.frame(bds[,-c(1,2,6,7)]) # remove non-continuous data
data.num.names <- c("Clay", "CoastDist", "Elevation", "pH",
                    "Water", 
                    "Barren", 
                    "LAc Northern Hardwoods", # make land cover class names shorter to fit in correlogram
                    "NAtl Coast Plain Hardwood",
                    "LAc Northern Pine(-Oak)", 
                    "LAc Pine-Hemlock-Hardwood",
                    "CAp Dry Oak-Pine", 
                    "Ap (Hemlock-)N Hardwood",
                    "Ac Low-Elev Spruce-Fir-Hardwood",
                    "AcAp Montane Spruce-Fir",
                    "CAp Pine-Oak Rocky Wd", 
                    "NAtl Coast Plain Maritime",
                    "NAtl Coast Plain Dune",
                    "CentIntAp Floodplain Sys",
                    "CentIntAp Riparian Sys",
                    "LAc Floodplain Sys", 
                    "Bor Acidic Peat Sys", 
                    "CInt and Ap Swamp Sys", 
                    "Gulf/Atl Coast Plain Swamp Sys",
                    "Gulf/Atl Coast Pl,in TMarsh Sys",
                    "LAc Shrub-Herb Wetl Sys", 
                    "NCentInt Wet Flatwoods",
                    "LAc Swamp Sys",
                    "NInt Pine Barrens", 
                    "AcAp Wd/Heath-Krummholz",
                    "Bor Jack Pine-Black Spruce",
                    "AcAp Alpine Tundra", 
                    "Sand",
                    "Silt",
                    "Slope") 

colnames(data.num) <- data.num.names
corr <- cor(data.num, method = "pearson")
# head(corr)
```

Plot correlogram:
```{r, fig.height=9,fig.width=9, warning=FALSE}
corrplot <- corrplot(corr, 
                     type="lower", #shape of the plot
                     method="color", #shape of the data 
                     diag = FALSE,
                     order="FPC", #how to cluster samples
                     pch.col = "black",
                     pch.cex = 0.9,
                     tl.col="black", # text color
                     tl.cex= 1,#text size
                     tl.srt = 45,
                     col = COL2(diverging = "RdYlBu"))
```

